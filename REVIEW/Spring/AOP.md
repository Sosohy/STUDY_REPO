### AOP(Aspect Oriented Programming)
- 관점 지향 프로그래밍
- 중복되는 공통 코드를 분리하고 코드 실행 전이나 후의 시점에 해당 코드를 삽입
  - 소스 코드의 중복 감소
  - 필요할 때마다 가져다 쓸 수 있게 객체화 -> 유지보수 용이
  -> 부가 기능을 따로 관리하는 것
- 핵심적인 비즈니스 로직으로부터 횡단 관심사를 분리하는 것에 목적

> 횡단 관심사(Cross-Cutting Concern)
  애플리케이션의 여러 부분에서 공통적으로 사용되는 기능이나 관심사
  ex) 로깅, 트랜잭션 관리, 보안 등

- 장점
  - 모듈화 : 횡단관심사를 별도의 모듈로 분리해 코드 중복 줄이고 유지보수 쉬워짐
  - 유연성 : 특정 기능을 여러 객체에 쉽게 적용 가능
  - 가독성
  - 재사용성

![](https://velog.velcdn.com/images/hso07202/post/9dc00ff8-59d2-4ed0-af91-aa31a007dd65/image.png)

#### 핵심 용어

| 용어 | 설명 |
| --- | --- |
| Aspect | 공통 기능을 모듈화한 단위로, 여러 애플리케이션 객체에 적용될 수 있는 부가 기능을 정의 |
| Advice | 특정 조인포인트에서 수행되는 작업 |
| Join point | Advice가 적용될 수 있는 위치를 말한다. |
| Pointcut | Join point 중에서 Advice가 적용될 가능성이 있는 부분을 선별한 것을 말한다. |
| Weaving | Advice를 핵심 비즈니스 로직에 적용하는 것을 말한다. -> Aspect를 실제 객체에 적용하는 과정 |

#### 어드바이스 유형

| 종류 | 설명 |
| --- | --- |
| Before | 대상 메소드가 실행되기 이전에 실행되는 어드바이스 |
| After-returning | 대상 메소드가 정상적으로 실행된 이후에 실행되는 어드바이스 |
| After-throwing | 예외가 발생했을 때 실행되는 어드바이스 |
| After | 대상 메소드가 실행된 이후에(정상, 예외 관계없이) 실행되는 어드바이스 |
| Around | 대상 메소드 실행 전/후에 적용되는 어드바이스 |

#### AOP 동작 방식
- 프록시 패턴을 사용하여 AOP를 구현
  - 기본적으로 런타임에 프록시 객체를 생성하여 Aspect를 적용
  
1. 클라이언트 호출: 클라이언트가 메서드를 호출.
2. 프록시 객체 호출: 실제 객체가 아닌 프록시 객체를 통해 메서드가 호출됨.
3. 어드바이스 적용: 프록시 객체는 해당 메서드 호출 전, 후, 또는 예외 시 어드바이스를 적용.
4. 실제 메서드 호출: 어드바이스 적용 후 실제 메서드를 호출.
5. 결과 반환: 실제 메서드 호출 결과를 클라이언트에게 반환.
